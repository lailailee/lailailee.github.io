(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{336:function(t,o,e){"use strict";e.r(o);var s=e(0),c=Object(s.a)({},(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"备份"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#备份"}},[t._v("#")]),t._v(" 备份")]),t._v(" "),e("p",[e("code",[t._v("docker ps | grep mongotest")])]),t._v(" "),e("p",[e("code",[t._v("docker exec -it mongotest_mongo_1 mongodump -h localhost -u root -p example -o /tmp/test")])]),t._v(" "),e("p",[t._v("指令解释:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("mongodump")]),t._v(" : 备份指令")]),t._v(" "),e("li",[e("code",[t._v("-h localhost")]),t._v(" : 连接本地")]),t._v(" "),e("li",[e("code",[t._v("-u root")]),t._v(" : 用户")]),t._v(" "),e("li",[e("code",[t._v("-p example")]),t._v(" : 密码")]),t._v(" "),e("li",[e("code",[t._v("-o /tmp/test")]),t._v(" : 保存到的容器目录")])]),t._v(" "),e("p",[e("img",{attrs:{src:"http://lailailee.oss-cn-chengdu.aliyuncs.com/%E5%8D%9A%E5%AE%A2%E5%9B%BE%E7%89%87/mongodb/13.png",alt:"image"}})]),t._v(" "),e("p",[t._v("上面的命令只是备份到了容器内部的目录")]),t._v(" "),e("p",[t._v("进入到 /home/mongotest/tmp 中")]),t._v(" "),e("p",[t._v("执行 "),e("code",[t._v("docker cp fc836f85637e:/tmp/test /tmp/test")]),t._v(",将容器中的 test 文件复制出来(这里是我容器内的文件夹名字写错了只能将错就错)")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://lailailee.oss-cn-chengdu.aliyuncs.com/%E5%8D%9A%E5%AE%A2%E5%9B%BE%E7%89%87/mongodb/14.png",alt:"image"}})]),t._v(" "),e("h2",{attrs:{id:"恢复"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#恢复"}},[t._v("#")]),t._v(" 恢复")]),t._v(" "),e("p",[e("code",[t._v("docker exec -it mongotest_mongo_1 mongorestore -h localhost -u root -p example --dir /tmp/test")])]),t._v(" "),e("p",[e("code",[t._v("mongorestore")]),t._v(" : 恢复指令")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://lailailee.oss-cn-chengdu.aliyuncs.com/%E5%8D%9A%E5%AE%A2%E5%9B%BE%E7%89%87/mongodb/15.png",alt:"image"}})])])}),[],!1,null,null,null);o.default=c.exports}}]);